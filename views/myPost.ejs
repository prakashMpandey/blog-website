<%- include("header",{user:user}) -%>


    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        .card-container{
            width:100%;
            display: flex;
            margin-top: 20px;
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: space-evenly;
        }
        .card{
            height: 400px;
            width: 30%;
            padding:20px;
            margin:15px;
        }
    .card h2{
        text-align: center;
        margin-bottom:20px;
        text-transform: capitalize;
        

        }
        
        .content{
            height:80%;
            width:100%;
            font-size: 18px;
            
        }
        .buttons{
            display: flex;
            flex-wrap:wrap;
            
            justify-content: space-evenly;
        }
        .buttons a{
            text-decoration: none;
            color: #fff;
        }
        button {
        padding: 0px 20px;
        border: none;
        background-color: #2067ea;
        color: #fff;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        font-weight: 700;
        min-width:fit-content;
        height:35px;
        text-align: center;
        text-transform: capitalize;
        margin:5px;

    }
    
    button:hover {
        background-color: #04264b;
        transition:0.5s;
    }

    @media (720px <width< 920px){
        .card-container{
            flex-direction: column;
            


        }
        .card{
            width:100%;
        }

    }
    
    @media (max-width:720px) {
        .card-container{
            display: block;

        }
        .card{
            width:100%;
            height:30%;
            
        }
        .content{
            font-size: 16px;
        }
        .buttons{
            gap:5px;
        }

        
    }
    @media (max-width:300px){
        .buttons{
            flex-direction: column;
            gap:10px;
        }
    }
    </style>

<body>
    <div class="card-container">
        <% if(posts.length===0){ %>
            <h1>there is no blog  <a href="publish">click here to add</a></h1>
            <% } %>

         
        <% posts.forEach(post => { %>
            <a href="getPost/<%=post._id %>" style="text-decoration: none; color: black;">
            <div class="card" data-id="<%= post._id %>" onclick=postlink() >
                <h2><%= post.title %></h2>
                <div class="content">
                    
                <p> <%= post.content.substring(0,180)%> . </p><br>
                
                </div></a>
               <div class="details" style="padding-bottom: 0; margin-bottom: 0;">
                    <h4> <i class="fas fa-thumbs-up"></i> <%= post.likes%></h4>
                    <hr>
                </div>
                
               <div class="buttons">
                <button type="submit"  ><a  href="deletePost/<%=post._id %>">delete</a></button>
                <button type="submit" id="updateBtn"><a href="updatePost/<%=post._id %>">update</a></button>
               </div>
              
            </div>
            

            
       <% }); %>
       
       
       
    </div>
</body>
</html>